# -*- coding: utf-8 -*-
from itertools import count
import re
import urllib.request
import xml.etree.ElementTree as ET

service_key = 'tDJzEtFWAInV6EbEaJBOodhBw4lJ8M3W1fPc3TYHbTSz3OKRoJPzVBqfQd2FwvuxnTfgp7QOipTW3pvtgVopMA%3D%3D&'

country_all = {'AD':'안도라', 'AE':'아랍에미리트', 'AF':'아프가니스탄', 'AG':'앤티가바부다', 'AI':'앵귈라', 'AL':'알바니아', 'AM':'아르메니아', 'AO':'앙골라', 'AQ':'남극', 'AR':'아르헨티나', 'AS':'아메리칸사모아', 'AT':'오스트리아', 'AU':'오스트레일리아', 'AW':'아루바', 'AX':'올란드제도', 'AZ':'아제르바이잔', 'BA':'보스니아헤르체고비나', 'BB':'바베이도스', 'BD':'방글라데시', 'BE':'에의', 'BF':'부르키나파소', 'BG':'불가리아', 'BH':'바레인', 'BI':'부룬디', 'BJ':'베냉', 'BL':'생바르텔레미', 'BM':'버뮤다', 'BN':'브루나이', 'BO':'볼리비아', 'BQ':'보네르섬', 'BR':'브라질', 'BS':'바하마', 'BT':'부탄', 'BV':'부베섬', 'BW':'보츠와나', 'BY':'벨라루스', 'BZ':'벨리즈', 'CA':'캐나다', 'CC':'코코스제도', 'CD':'콩고민주공화국', 'CF':'중앙아프리카공화국', 'CG':'콩고공화국', 'CH':'스위스', 'CI':'코트디부아르', 'CK':'쿡제도', 'CL':'칠레', 'CM':'카메룬', 'CN':'중국', 'CO':'콜롬비아', 'CR':'코스타리카', 'CU':'쿠바', 'CV':'카보베르데', 'CW':'퀴라소', 'CX':'크리스마스섬', 'CY':'키프로스', 'CZ':'체코', 'DE':'독일', 'DJ':'지부티', 'DK':'덴마크', 'DM':'도미니카연방', 'DO':'도미니카공화국', 'DZ':'알제리', 'EC':'에콰도르', 'EE':'에스토니아', 'EG':'이집트', 'EH':'서사하라', 'ER':'에리트레아', 'ES':'스페인', 'ET':'에티오피아', 'FI':'핀란드', 'FJ':'피지', 'FK':'포클랜드제도', 'FM':'미크로네시아연방', 'FO':'페로제도', 'FR':'프랑스', 'GA':'가봉', 'GB':'영국', 'GD':'그레나다', 'GE':'조지아', 'GF':'아나의', 'GG':'건지섬', 'GH':'가나', 'GI':'지브롤터', 'GL':'그린란드', 'GM':'감비아', 'GN':'니의', 'GP':'과들루프', 'GQ':'니의', 'GR':'그리스', 'GS':'사우스조지아사우스샌드위치제도', 'GT':'과테말라', 'GU':'괌', 'GW':'니비사우의', 'GY':'가이아나', 'HK':'홍콩', 'HM':'허드맥도널드제도', 'HN':'온두라스', 'HR':'크로아티아', 'HT':'아이티', 'HU':'헝가리', 'ID':'인도네시아', 'IE':'아일랜드', 'IL':'이스라엘', 'IM':'맨섬', 'IN':'인도', 'IO':'영국령인도양지역', 'IQ':'이라크', 'IR':'이란', 'IS':'아이슬란드', 'IT':'이탈리아', 'JE':'저지섬', 'JM':'자메이카', 'JO':'요르단', 'JP':'일본', 'KE':'케냐', 'KG':'스스탄의', 'KH':'캄보디아', 'KI':'키리바시', 'KM':'코모로', 'KN':'세인트키츠네비스', 'KP':'조선민주주의인민공화국', 'KR':'대한민국', 'KW':'쿠웨이트', 'KY':'케이맨제도', 'KZ':'카자흐스탄', 'LA':'라오스', 'LB':'레바논', 'LC':'세인트루시아', 'LK':'스리랑카', 'LI':'리히텐슈타인', 'LR':'라이베리아', 'LS':'레소토', 'LT':'리투아니아', 'LU':'룩셈부르크', 'LV':'라트비아', 'LY':'리비아', 'MA':'모로코', 'MC':'모나코', 'MD':'몰도바', 'ME':'몬테네그로', 'MF':'생마르탱', 'MG':'마다가스카르', 'MH':'마셜제도', 'MK':'북마케도니아', 'ML':'말리', 'MM':'미얀마', 'MN':'몽골', 'MO':'마카오', 'MP':'북마리아나제도', 'MQ':'마르티니크', 'MR':'모리타니', 'MS':'몬트세랫', 'MT':'몰타', 'MU':'모리셔스', 'MV':'몰디브', 'MW':'말라위', 'MX':'멕시코', 'MY':'말레이시아', 'MZ':'모잠비크', 'NA':'나미비아', 'NC':'누벨칼레도니', 'NE':'니제르', 'NF':'노퍽섬', 'NG':'나이지리아', 'NI':'니카라과', 'NL':'네덜란드', 'NO':'노르웨이', 'NP':'네팔', 'NR':'나우루', 'NU':'니우에', 'NZ':'뉴질랜드', 'OM':'오만', 'PA':'파나마', 'PE':'페루', 'PF':'프랑스령폴리네시아', 'PG':'니의', 'PH':'필리핀', 'PK':'파키스탄', 'PL':'폴란드', 'PM':'생피에르미클롱', 'PN':'핏케언제도', 'PR':'푸에르토리코', 'PS':'팔레스타인', 'PT':'포르투갈', 'PW':'팔라우', 'PY':'파라과이', 'QA':'카타르', 'RE':'레위니옹', 'RO':'루마니아', 'RS':'세르비아', 'RU':'러시아', 'RW':'르완다', 'SA':'사우디아라비아', 'SB':'솔로몬제도', 'SC':'세이셸', 'SD':'수단', 'SE':'스웨덴', 'SG':'싱가포르', 'SH':'세인트헬레나', 'SI':'슬로베니아', 'SJ':'스발바르얀마옌', 'SK':'슬로바키아', 'SL':'시에라리온', 'SM':'산마리노', 'SN':'세네갈', 'SO':'소말리아', 'SR':'수리남', 'SS':'남수단', 'ST':'상투메프린시페', 'SV':'엘살바도르', 'SX':'신트마르턴', 'SY':'시리아', 'SZ':'에스와티니', 'TC':'터크스케이커스제도', 'TD':'차드', 'TF':'프랑스령남방및남극지역', 'TG':'토고', 'TH':'태국', 'TJ':'타지키스탄', 'TK':'토켈라우', 'TL':'동티모르', 'TM':'투르크메니스탄', 'TN':'튀니지', 'TO':'통가', 'TR':'튀르키예', 'TT':'트리니다드토바고', 'TV':'투발루', 'TW':'중화민국', 'TZ':'탄자니아', 'UA':'우크라이나', 'UG':'우간다', 'UM':'미국령군소제도', 'US':'미국', 'UY':'우루과이', 'UZ':'우즈베키스탄', 'VA':'바티칸시국', 'VC':'세인트빈센트그레나딘', 'VE':'베네수엘라', 'VG':'영국령버진아일랜드', 'VI':'미국령버진아일랜드', 'VN':'베트남', 'VU':'바누아투', 'WF':'왈리스푸투나', 'WS':'사모아', 'YE':'예멘', 'YT':'마요트', 'ZA':'남아프리카공화국', 'ZM':'잠비아', 'ZW':'짐바브웨'}

hosts = ['1.215.123.138', '1.215.123.139', '1.215.245.242', '1.217.28.134', '1.221.154.250', '1.232.111.33', '1.233.141.44', '1.238.174.21', '1.238.215.41', '1.238.66.50', '1.242.137.17', '103.19.127.30', '106.101.0.99', '106.101.1.185', '106.101.1.224', '106.101.1.77', '106.101.129.192', '106.101.130.166', '106.101.131.106', '106.101.2.251', '106.242.20.68', '106.243.254.198', '106.245.153.56', '106.245.174.87', '106.248.206.68', '106.248.34.19', '110.70.57.131', '110.70.58.16', '110.8.146.111', '112.152.242.12', '112.152.242.153', '112.156.220.119', '112.157.114.79', '112.161.27.177', '112.161.56.244', '112.164.124.182', '112.164.124.7', '112.164.191.105', '112.170.52.230', '112.171.135.4', '112.173.66.243', '114.206.231.107', '115.189.82.199', '115.23.222.126', '115.95.66.109', '116.121.253.86', '116.123.196.175', '116.123.196.204', '116.126.177.91', '116.40.154.113', '117.111.26.230', '118.101.246.167', '118.220.61.137', '118.220.64.152', '118.220.64.185', '118.235.10.243', '118.235.26.202', '118.235.3.228', '118.235.8.220', '118.235.9.254', '118.34.181.198', '118.34.213.144', '118.35.137.98', '118.35.158.115', '118.35.89.198', '118.38.74.246', '119.17.91.223', '119.195.140.220', '119.196.129.163', '119.197.197.127', '119.200.212.92', '119.200.212.93', '119.200.254.24', '119.200.254.58', '119.206.158.195', '119.206.158.245', '119.64.4.64', '121.123.24.83', '121.125.137.147', '121.132.47.188', '121.135.24.29', '121.136.215.3', '121.136.226.5', '121.136.57.51', '121.143.236.83', '121.149.128.217', '121.149.166.79', '121.149.237.241', '121.157.190.21', '121.161.53.55', '121.170.26.192', '121.170.36.194', '121.176.174.194', '121.176.246.124', '121.179.217.233', '121.179.218.76', '121.179.242.10', '121.180.44.230', '121.185.183.184', '121.190.163.206', '121.200.100.141', '122.153.113.134', '122.32.186.56', '122.34.207.99', '122.36.57.2', '122.39.240.163', '122.56.202.71', '123.111.168.99', '123.212.50.24', '125.130.179.125', '125.133.148.87', '125.135.102.153', '125.135.102.188', '125.135.102.221', '125.184.6.30', '14.33.172.166', '14.35.248.117', '14.36.217.62', '14.47.134.43', '14.48.205.105', '14.51.251.101', '14.51.95.21', '163.47.237.189', '175.116.166.153', '175.123.169.237', '175.123.199.41', '175.195.250.2', '175.203.31.24', '175.212.255.239', '175.214.9.216', '175.223.15.240', '175.223.19.84', '175.223.23.227', '175.223.26.131', '175.223.27.63', '175.223.32.181', '175.223.34.17', '175.223.34.47', '175.223.34.49', '175.223.34.86', '175.223.37.95', '175.223.39.54', '175.223.48.1', '175.223.49.249', '180.229.76.2', '180.68.6.103', '180.69.100.57', '180.70.187.159', '182.208.118.250', '182.216.1.57', '182.217.44.8', '182.218.221.62', '182.222.106.240', '182.222.27.191', '183.100.12.101', '183.100.124.234', '183.101.34.141', '183.102.204.9', '183.102.215.195', '183.108.187.180', '183.108.201.186', '183.98.121.165', '183.98.252.147', '183.99.135.142', '185.209.177.51', '203.226.207.138', '203.243.9.131', '203.248.186.68', '210.103.87.225', '210.121.235.20', '210.179.248.29', '210.204.210.163', '210.223.174.118', '210.223.174.151', '210.223.174.159', '211.168.231.210', '211.178.172.227', '211.179.126.203', '211.193.194.62', '211.198.27.186', '211.198.62.222', '211.199.106.239', '211.201.24.241', '211.202.239.82', '211.211.51.148', '211.214.144.51', '211.219.241.43', '211.226.112.24', '211.24.109.211', '211.246.69.174', '211.248.47.95', '211.250.113.36', '211.252.47.100', '211.36.133.65', '211.49.74.229', '211.53.129.138', '218.101.176.103', '218.153.140.14', '218.155.14.132', '218.155.166.211', '218.155.180.212', '218.209.29.96', '219.240.167.163', '219.240.9.163', '220.120.111.41', '220.121.89.33', '220.122.108.203', '220.122.108.205', '220.127.168.188', '220.73.22.150', '220.74.28.163', '220.78.60.198', '220.88.106.230', '220.95.102.125', '220.95.102.239', '221.147.227.119', '221.154.117.104', '221.163.106.125', '221.165.189.67', '222.100.125.98', '222.100.254.49', '222.100.254.51', '222.102.40.220', '222.102.40.245', '222.109.231.77', '222.117.137.115', '222.117.153.54', '222.117.156.127', '222.121.161.60', '222.232.41.182', '222.97.159.85', '222.98.230.202', '222.99.28.73', '222.99.8.69', '223.32.244.170', '223.33.153.193', '223.33.153.21', '223.33.160.130', '223.33.164.55', '223.33.165.111', '223.33.165.157', '223.33.180.143', '223.33.180.198', '223.33.180.70', '223.33.180.91', '223.33.181.250', '223.33.184.195', '223.38.10.12', '223.38.10.154', '223.38.10.75', '223.38.11.126', '223.38.17.11', '223.38.17.111', '223.38.17.121', '223.38.17.130', '223.38.17.141', '223.38.17.173', '223.38.17.18', '223.38.17.186', '223.38.17.201', '223.38.17.238', '223.38.17.249', '223.38.18.104', '223.38.18.160', '223.38.18.164', '223.38.18.168', '223.38.18.235', '223.38.18.64', '223.38.21.116', '223.38.21.168', '223.38.21.183', '223.38.21.59', '223.38.22.113', '223.38.22.142', '223.38.22.162', '223.38.22.185', '223.38.22.23', '223.38.22.248', '223.38.22.26', '223.38.22.36', '223.38.23.121', '223.38.23.135', '223.38.23.143', '223.38.23.169', '223.38.23.2', '223.38.23.203', '223.38.23.210', '223.38.23.243', '223.38.23.47', '223.38.24.146', '223.38.24.155', '223.38.24.183', '223.38.24.222', '223.38.24.244', '223.38.24.26', '223.38.24.3', '223.38.24.59', '223.38.24.65', '223.38.27.1', '223.38.27.186', '223.38.27.189', '223.38.27.190', '223.38.27.202', '223.38.27.203', '223.38.27.228', '223.38.27.243', '223.38.27.36', '223.38.27.7', '223.38.27.73', '223.38.28.141', '223.38.28.192', '223.38.28.23', '223.38.28.246', '223.38.28.79', '223.38.29.111', '223.38.29.130', '223.38.29.173', '223.38.30.132', '223.38.30.200', '223.38.30.21', '223.38.30.33', '223.38.30.53', '223.38.33.217', '223.38.33.225', '223.38.34.235', '223.38.34.31', '223.38.35.130', '223.38.35.140', '223.38.35.141', '223.38.35.187', '223.38.35.232', '223.38.36.186', '223.38.39.111', '223.38.39.114', '223.38.39.187', '223.38.40.129', '223.38.40.214', '223.38.40.217', '223.38.40.23', '223.38.41.123', '223.38.41.7', '223.38.42.157', '223.38.42.25', '223.38.45.212', '223.38.45.225', '223.38.45.238', '223.38.45.244', '223.38.45.28', '223.38.45.44', '223.38.45.55', '223.38.45.59', '223.38.46.129', '223.38.46.225', '223.38.46.37', '223.38.46.86', '223.38.48.133', '223.38.48.166', '223.38.48.216', '223.38.48.43', '223.38.48.79', '223.38.51.142', '223.38.51.205', '223.38.52.123', '223.38.52.170', '223.38.52.185', '223.38.52.19', '223.38.53.120', '223.38.53.226', '223.38.54.163', '223.38.54.199', '223.38.54.20', '223.38.72.105', '223.38.72.22', '223.38.73.129', '223.38.73.166', '223.38.73.87', '223.38.75.152', '223.38.75.183', '223.38.75.206', '223.38.75.63', '223.38.75.66', '223.38.75.84', '223.38.75.96', '223.38.78.154', '223.38.78.190', '223.38.78.58', '223.38.78.82', '223.38.79.129', '223.38.79.164', '223.38.79.193', '223.38.79.202', '223.38.79.209', '223.38.79.21', '223.38.79.226', '223.38.79.24', '223.38.79.250', '223.38.8.151', '223.38.8.152', '223.38.8.24', '223.38.8.253', '223.38.8.42', '223.38.8.81', '223.38.87.103', '223.38.87.121', '223.38.87.5', '223.39.130.31', '223.39.130.69', '223.39.131.10', '223.39.146.167', '223.39.146.226', '223.39.146.56', '223.39.151.197', '223.39.155.235', '223.39.155.86', '223.39.156.187', '223.39.156.215', '223.39.158.221', '223.39.161.30', '223.39.162.182', '223.39.200.174', '223.39.200.28', '223.39.201.10', '223.39.202.100', '223.39.202.134', '223.39.202.184', '223.39.202.68', '223.39.202.88', '223.39.202.93', '223.39.203.205', '223.39.203.52', '223.39.203.99', '223.39.204.173', '223.39.205.13', '223.39.207.25', '223.39.208.38', '223.39.208.58', '223.39.208.93', '223.39.209.29', '223.39.210.33', '223.39.211.110', '223.39.211.228', '223.39.211.253', '223.39.213.49', '223.39.214.62', '223.39.216.141', '223.39.216.80', '223.39.217.236', '223.39.218.11', '223.39.218.171', '223.39.219.83', '223.62.10.119', '223.62.10.185', '223.62.11.85', '223.62.11.91', '223.62.162.155', '223.62.162.208', '223.62.162.55', '223.62.162.66', '223.62.162.99', '223.62.163.145', '223.62.163.15', '223.62.163.178', '223.62.163.185', '223.62.163.209', '223.62.163.211', '223.62.163.41', '223.62.163.77', '223.62.163.85', '223.62.169.151', '223.62.169.155', '223.62.169.173', '223.62.172.1', '223.62.172.113', '223.62.172.155', '223.62.172.41', '223.62.173.181', '223.62.175.106', '223.62.175.142', '223.62.175.153', '223.62.175.16', '223.62.175.162', '223.62.175.212', '223.62.175.219', '223.62.175.45', '223.62.175.95', '223.62.178.134', '223.62.178.184', '223.62.188.175', '223.62.188.210', '223.62.188.24', '223.62.190.121', '223.62.202.1', '223.62.202.122', '223.62.202.193', '223.62.202.48', '223.62.203.131', '223.62.203.170', '223.62.203.207', '223.62.203.217', '223.62.203.92', '223.62.204.134', '223.62.204.90', '223.62.21.12', '223.62.21.161', '223.62.21.183', '223.62.21.21', '223.62.21.221', '223.62.21.223', '223.62.21.230', '223.62.21.8', '223.62.212.20', '223.62.212.221', '223.62.212.55', '223.62.212.78', '223.62.212.93', '223.62.216.44', '223.62.216.73', '223.62.219.190', '223.62.219.20', '223.62.219.233', '223.62.219.241', '223.62.219.250', '223.62.22.172', '223.62.22.200', '223.62.22.36', '223.62.22.72', '223.62.222.163', '223.62.8.110', '223.62.8.124', '223.62.8.13', '223.62.8.165', '223.62.8.191', '223.62.8.30', '223.62.8.45', '223.62.8.54', '223.62.8.75', '223.62.8.96', '39.117.142.42', '39.117.149.142', '39.117.63.138', '39.7.24.216', '39.7.47.224', '39.7.48.57', '39.7.48.64', '39.7.51.43', '45.141.153.170', '49.167.131.181', '49.168.111.68', '58.121.159.166', '58.123.207.199', '58.225.101.169', '58.225.103.25', '58.225.103.70', '58.225.103.88', '58.226.250.193', '58.232.13.106', '58.236.220.85', '58.72.47.252', '59.10.192.242', '59.11.16.88', '59.11.202.19', '59.11.33.233', '59.13.49.72', '59.13.92.195', '59.13.92.196', '59.14.178.253', '59.14.199.49', '59.14.50.91', '59.15.104.227', '59.25.107.175', '59.27.238.124', '59.4.104.33', '59.7.208.107', '59.7.250.81', '59.8.220.104', '59.9.191.137', '61.252.111.13', '61.252.111.234', '61.254.121.57', '61.41.116.212', '61.75.166.236', '61.77.207.205', '61.83.200.242', '94.26.119.217']


for ip in hosts:
    url = 'https://apis.data.go.kr/B551505/whois/ipas_country_code?serviceKey='+service_key+'&query='+ip+'&answer=xml'
    request = urllib.request.urlopen(url).read().decode("utf-8")
    root = ET.fromstring(request)

    for country in root.findall('whois'):
        country_code = country.find("countryCode")
        country_name = country_code.text
        print(f'{ip}:\t{country_all[country_name]}')
